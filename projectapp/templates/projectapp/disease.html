<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.104.2">
    <title>질병진단</title>
    <script type="text/javascript">
      function goreset(){
        uploadBox.style.display = 'block'; // upload-box를 숨김
        uploadedImage.style.display = 'none'; // uploaded-image를 표시
      }

      function imgs(){
        fi = document.getElementById('uploaded-image').src;
        document.getElementById('img').value=fi
    
        f = document.getElementById('fm');
        // f.setAttribute('method', 'post');
        // f.setAttribute('action', "/project/disease_result/");

        f.submit();
      }
    </script>
    <style>
      .container {
        font-family: arial;
        font-size: 24px;
        margin: 25px;
        width: 350px;
        height: 200px;
      }
      
      .child {
        width: 50px;
        height: 50px;
        margin: 0 auto;
      }

      table, th, td {
        border: 1px solid black;
        border-collapse: collapse;
      }

      th, td {
        padding-top: 40px;
        padding-bottom: 20px;
        padding-left: 60px;
        padding-right: 60px;
      }
      #upload-box {
            width: 700px;
            height: 500px;
            border: 2px dashed #ccc;
            border-radius: 10px;
            text-align: center;
            padding: 100px;
            font-family: 'Arial, sans-serif';
            font-size: 18px;

            color: #666;
        }

        #uploaded-image {
            max-width: 100%;
            max-height: 100%;
            margin-top: 20px;
        }
        
    </style>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.2/examples/carousel/">
    <link href="/static/projectapp/css/input-file-button.css"
          rel="stylesheet"
          type="text/css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
    <link rel="stylesheet" href="/static/projectapp/css/style1.css">
    

    <link href="/static/projectapp/css/bootstrap.min.css" rel="stylesheet">

    
    <!-- Custom styles for this template -->
    <link href="/static/projectapp/css/carousel.css" rel="stylesheet">
  </head>
  <body>
  <form id="fm" name="fm" method="post"
    action="/project/disease_result/"
    enctype="multipart/form-data">
    {% csrf_token %}
    <input type="text" id="img" name="img" style="display: none;">
    
<header>
  {% include "projectapp/include/navbar.html" %}
</header>



<br/>
<br/>
    <!-- {% comment %} <label style="font-size:20px;"><input type="radio" name="part" checked>피부</label>
    <label style="font-size:20px;"><input type="radio" name="part">눈</label> {% endcomment %} -->
    <div class="col-md-3">
    </div>
    <div class="col-md-6">
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1" style="width: 30px; height: 30px;">
        <label class="form-check-label" for="inlineRadio1" style="font-size: 30px;">피부</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2" style="width: 30px; height: 30px;">
        <label class="form-check-label" for="inlineRadio2" style="font-size: 30px;">눈</label>
      </div>
    </div>
    <br/>
    <div class="d-grid gap-3" style="grid-template-columns: 1fr 1fr;">
      
        <div class="bg-body-tertiary border rounded-3">
          <div id="upload-box">
            <br/>
            <br/>
            <br/>
            <br/>
            <p style="font-size: 30px; font-family: '굴림'; font-weight: bold;">파일을 드래그 앤 드롭하거나</p>
            <p style="font-size: 30px; font-family: '굴림'; font-weight: bold;">파일을 선택하려면 여기를 클릭하세요.</p>
            <input type="file" id="file-input" style="display: none;">
        </div>
    
        <img id="uploaded-image">
    
        <script>
            var uploadBox = document.getElementById('upload-box');
            var fileInput = document.getElementById('file-input');
            var uploadedImage = document.getElementById('uploaded-image');
    
            // 드래그 앤 드롭 이벤트 처리
            uploadBox.addEventListener('dragover', function(e) {
                e.preventDefault();
                uploadBox.style.backgroundColor = '#f7f7f7';
            });
    
            uploadBox.addEventListener('dragleave', function(e) {
                e.preventDefault();
                uploadBox.style.backgroundColor = '';
            });
    
            uploadBox.addEventListener('drop', function(e) {
                e.preventDefault();
                uploadBox.style.backgroundColor = '';
                var file = e.dataTransfer.files[0];
                handleFile(file);
            });
    
            // 파일 선택 이벤트 처리
            uploadBox.addEventListener('click', function(e) {
                fileInput.click();
            });
    
            fileInput.addEventListener('change', function(e) {
                var file = e.target.files[0];
                handleFile(file);
            });
    
            // 업로드된 파일 처리
            function handleFile(file) {
                if (file) {
                    // 이미지 파일인 경우
                    if (file.type.startsWith('image/')) {
                        uploadBox.style.display = 'none'; // upload-box를 숨김
                        uploadedImage.style.display = 'block'; // uploaded-image를 표시
                        var reader = new FileReader();
                        reader.onload = function(e) {
                            uploadedImage.src = e.target.result; // 이미지 표시
                            adjustImageSize(); // 이미지 크기 조정
                        };
                        reader.readAsDataURL(file);
                    }
                    // 이미지 파일이 아닌 경우
                    else {
                        alert('이미지 파일만 업로드할 수 있습니다.');
                    }
                }
            }
  
            // 이미지 크기 조정
            function adjustImageSize() {
                var minWidth = 600; // 최소 가로 크기
                var minHeight = 400; // 최소 세로 크기
                var maxWidth = 680; // 최대 가로 크기
                var maxHeight = 480; // 최대 세로 크기

                var image = new Image();
                image.src = uploadedImage.src;
                image.onload = function() {
                    var width = image.width;
                    var height = image.height;
                    var ratio = 1;

                    if (width < minWidth || height < minHeight) {
                        ratio = Math.max(minWidth / width, minHeight / height);
                    } else if (width > maxWidth || height > maxHeight) {
                        ratio = Math.min(maxWidth / width, maxHeight / height);
                    }

                    width *= ratio;
                    height *= ratio;

                    uploadedImage.style.width = width + 'px';
                    uploadedImage.style.height = height + 'px';
                    uploadedImage.style.display = 'block';
                };
            }
            function resetImage() {
                    uploadedImage.src = '';
                    uploadedImage.style.display = 'none';
                }
        </script>
        </div>
        <div class="bg-body-tertiary">
          <table>
            <td>
              <h1 style="text-align: center;">주의사항</h1>
              <br/>
              <h2 style="font-family: '굴림';">※ 질병 부위를 최대한 자세히 촬영요망 ※</h2>
              <br/>
              
              <p><h2><예시></h2><img src="/static/projectapp/images/sickdog.jpg/"></p>
              <br/>
            </td>
          </table>
      </div>
        
        <div class="filebox preview-image">
            <input type="file" id="input-file" class="upload-hidden">
            <!-- <button id="reset-button" onclick="resetImage()">파일 초기화</button> -->
            <label style="float:right"><input type="button" value="파일초기화" class="btn btn-light btn-outline-dark btn-primary pull-right" onclick="goreset()"></label>
            <label style="float:right"><input for="file-upload-form" type="button" value="진단하기" class="btn btn-light btn-outline-dark btn-primary pull-right" onclick=imgs()></label>
        </div>
        <!-- <button type="button" class="btn btn-primary btn-lg" sstyle="width:33%;" onclick="javascript:history.go(-1);">파일초기화</button>
        <button type="button" class="btn btn-primary btn-lg" style="width:33%;" onclick="javascript:location.href='/project/disease_result';">진단하기</button> -->
    </div>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script><script  src="/static/projectapp/js/script1.js"></script>
    </form>
    {% include "projectapp/include/footer.html" %}
</html>
    